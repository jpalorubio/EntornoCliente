//CADENAS

// Actividad 1 - Cadenas
// 1.Crear una función que pida una cadena por teclado y muestre su tamaño

function mostrarTamaño() {
  let cadena1 = prompt("Introduce una cadena");
  let posicion = cadena1.length;
  let rdo = "<h1>Tamaño de la cadena: " + cadena1 + " es " + posicion + "</h2>";
  document.getElementById("resultadoej1").innerHTML = rdo;
}
// 2. Crea una función que pida la clave Secreta por pantalla, si la introduce correctamente aparece el
// mensaje “Has acertado” (también serán válidas: secreta, SECRETA, SeCrEtA...)

function pedirClave() {
  let claveSecreta = prompt("Introduce la clave");
  let rdo = "<h1>";
  if (claveSecreta.toLocaleLowerCase() == "secreta") {
    rdo += "Clave correcta </h1>";
  } else {
    rdo += "Clave incorrecta </h1>";
  }
  document.getElementById("resultadoej2").innerHTML = rdo;
}

// 3. Crea una función que recorra una cadena y separe los caracteres con un guión (Que no aparezca guión
// al final)
function recorrerCadena() {
  let cadena2 = prompt("Introduce una cadena");
  let rdo = "";

  //   for (i = 0; i < cadena2.length; i++) {
  //     if (cadena2.charAt(i) == " ") {
  //       rdo += "-";
  //     } else {
  //       rdo += cadena2.charAt(i);
  //     }
  //   }

  for (const caracter of cadena2) {
    //recorro la cadena obteniendo los valores
    if (caracter != " ") {
      if (rdo == "") {
        rdo += "<h1>" + caracter;
      } else rdo += "-" + caracter;
    }
  }
  rdo += "</h1>";

  document.getElementById("resultadoej3").innerHTML = rdo;
}

// Actividad 2 – Cadenas
// 1. Función que defina una variable cadena con "hola que tal yo bien" y busque "tal" para mostrar la cadena
// desde "tal" al final.

function parteCadena() {
  let mensaje = "hola que tal yo bien";
  let posicion = mensaje.indexOf("tal"); // posición = 9 (donde empieza la cadena tal)
  let porcion = mensaje.substring(posicion); // porcion = "tal yo bien"
  let rdo =
    "<h1>Hola que tal yo bien a partir de la palabra tal quedaría asi: " +
    porcion +
    "</h1>";

  document.getElementById("resultadoej4").innerHTML = rdo;
}

// 2. Función que defina una cadena, la corte y la meta en un array. Luego debe recorrer el array e indicar
// que en el índice X del array está tal cadena.

function corteCadena() {
  let mensaje = "hola que tal yo bien";
  let arrayMensaje = mensaje.split(" ");
  let rdo = "";
  for (const cadena in arrayMensaje) {
    rdo +=
      "El indice: " +
      cadena +
      " corresponde a la cadena: " +
      arrayMensaje[cadena] +
      "<br>";
  }

  document.getElementById("resultadoej5").innerHTML = rdo;
}

// Actividad 3 – Cadenas
// Crear una función que tenga como parámetro de entrada un DNI y le ponga un 0 o no al principio según
// corresponda (si tiene 7 caracteres, hay que ponerle un 0 delante).

function entradaDNI() {
  let dni = prompt("Introduce un dni");
  let dninuevo = leerDNI(dni);
  let rdo = "";
  alert(dninuevo);
  rdo += "<h1>Tu dni es: " + dninuevo + "</h1>";
  document.getElementById("resultadoej6").innerHTML = rdo;
}

function leerDNI(dni) {
  let dniCompleto = dni.padStart(9, "0");
  return dniCompleto;
}
//ARRAYS
// Actividad 1 – Arrays
// 1. Crea un array de elementos y muestra dichos elementos por pantalla separados por "#", ahora haz lo
// mismo con uno bidimensional:
// let anidado1 = ["anidado1", "anidado2", "anidado3"]
// let anidado2 = ["a1", "a2", "a3"]
// let matriz = [anidado1, anidado2]
// Recorre la matriz y muestra los elementos separados por “#”, mostrando el mensaje: “Indice X:
// elem1#elem2#elem3”

function arrayElementos() {
  let anidado1 = ["anidado1", "anidado2", "anidado3"];
  let anidado2 = ["a1", "a2", "a3"];
  let matriz = [anidado1, anidado2];

  let anidadoAux = anidado1.join("#");
  alert(anidadoAux);
  let rdo = "";
  for (const indice in matriz) {
    rdo += "Indice " + indice + ":" + matriz[indice].join("#") + "\n";
  }

  alert(rdo);
}

// Actividad 2 – Arrays
// 1. Mostrar los elementos de un array del final al principio usando pop.
function mostrarPop() {
  let array = ["coche", "moto", "bicicleta", "furgoneta", "camion", "bus"];
  let array2 = [];
  let rdo = "";
  let longitud = array.length;
  for (let i = 0; i < longitud; i++) {
    array2[i] = array.pop();
  }

  for (const valor of array2) {
    rdo += valor + "\n";
  }

  alert(rdo);
}

// 2. Nos dan un array de frutas [“banana”, “naranja”, “mango”, “limon”]. Crear un script que pregunte al
// usuario qué fruta quiere buscar en el array, si no existe dicha fruta mostrará “Esta fruta no existe en el
// array” en caso contrario mostrará “Sí hay aguacate en el array”. La fruta se puede poner en mayúsculas y
// minúsculas y la seguirá encontrando.

function mostrarFruta() {
  let frutas = ["banana", "naranja", "mango", "limon"];
  let pregunta = prompt("Que fruta quieres buscar");
  let rdo = "";

  //Forma con la funcion includes.
  if (frutas.includes(pregunta.toLocaleLowerCase())) {
    alert("Si hay " + pregunta + " en el array");
  } else {
    alert("Esta fruta no existe en el array");
  }

  //FORMA SIN FUNCIONES:
  // let control = false;
  // for (const fruta of frutas) {
  //   if (fruta == pregunta.toLocaleLowerCase()) {
  //     control = true;
  //   }
  // }

  // if (control) {
  //   rdo += "Si hay " + pregunta + " en el array";
  // } else {
  //   rdo += "Esta fruta no existe en el array";
  // }

  // alert(rdo);
}

// Actividad 3 – Arrays
// 1. Si tenemos una cadena en minúsculas “miel”. ¿Cómo podemos transformarla en una cadena con la
// primera letra en mayúsculas(Miel)?

function primeraMayus() {
  let cadena = "miel";
  let primeraletra = cadena[0].toLocaleUpperCase();
  let resto = cadena.slice(1);
  alert(primeraletra + resto);

  // let cadena2 = "";
  // for (i = 0; i < cadena.length; i++) {
  //   if (i == 0) {
  //     cadena2 += cadena[i].toLocaleUpperCase();
  //   } else {
  //     cadena2 += cadena[i];
  //   }
  // }
  // alert(cadena2);
}
// 2. Nos dan la lista de la compra en un array([“Leche”, “Café”, “Té”, “Miel”). Crea un botón para añadir
// “Carne” al principio de la lista de la compra y “Azúcar” al final de la lista. Si ya se ha añadido “Carne” o
// “Azúcar” no se vuelve a añadir, se muestra el mensaje “Ya se ha añadido este producto a la lista de la
// compra”.
// Crea un botón “Alergias” que pida un producto al que eres alérgico y lo elimina de la lista de la compra,
// indicando “He eliminado X producto de la cesta porque eres alérgico”, si no se encuentra el producto en
// la cesta, mostrará “No existen alergias en la cesta”.
// Crea un botón “Modificar” que pida un producto a buscar y si lo encuentra modifique su valor, por
// ejemplo, que busque “Té” y te permita modificarlo a “Té verde”.
let lista = ["Leche", "Café", "Té", "Miel"];

function addLista() {
  let productoInicio = "Carne";
  let productoFinal = "Azucar";

  if (lista.includes(productoInicio)) {
    alert("Ya se ha añadido este producto a la lista");
  } else {
    lista.unshift(productoInicio);
  }

  if (lista.includes(productoFinal)) {
    alert("Ya se ha añadido este producto a la lista");
  } else {
    lista.push(productoFinal);
  }

  alert(lista);
}

function alergias() {
  let proAlergia = prompt("Introduce un producto al que eres alergico");
  let contador = 0;

  if (lista.includes(proAlergia)) {
    lista.splice(lista.indexOf(proAlergia), 1);
    contador++;
    alert(
      "He eliminado" + contador + "producto de la cesta porque eres alérgico"
    );
  } else {
    alert("No existen alergias en la cesta");
  }
}

function modificar() {
  let proModificar = prompt("Introduce el producto que quieres modificar");

  if (lista.includes(proModificar)) {
    let nuevoproducto = prompt("Introduce tu nuevo producto");
    lista[lista.indexOf(proModificar)] = nuevoproducto;

    alert("Producto modificado, tu cesta ahora queda asi\n" + lista);
  } else {
    alert("No existe el artículo que quieres modificar en la cesta");
  }
}

//EjercicioPrueba
//Cadena "HOLA QUE TAL" transformar a "HOLA#QUE#TAL"
//Recorriendo la cadena
//Con un for usando split y sin join
//Usando split y join

function prueba2() {
  let cadena = "HOLA QUE TAL";
  let cadena2 = "";
  for (let i = 0; i < cadena.length; i++) {
    if (cadena[i] != " ") {
      cadena2 += cadena[i];
    } else {
      cadena2 += "#";
    }
  }
  alert(cadena2);

  let cadena3 = cadena.split(" ");

  let rdo = "";
  for (const caracter of cadena) {
    if (rdo != "") {
      cadena3 += caracter;
    } else cadena3 += "#";
  }
  alert(rdo);
}
